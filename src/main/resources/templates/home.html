<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inicio</title>

  <link rel="stylesheet" th:href="@{/css/home-dashboard.css}">
</head>

<body>
  <main class="dash">
    <!-- blobs -->
    <div class="blob blob--a" aria-hidden="true"></div>
    <div class="blob blob--b" aria-hidden="true"></div>
    <div class="blob blob--c" aria-hidden="true"></div>

    <!-- Topbar -->
    <header class="topbar">
      <div class="topbar__left">
        <div class="brandIcon" aria-hidden="true">ğŸ©º</div>
        <div class="brandText">
          <h1>Inicio</h1>
          <p>Gestiona tu perfil y tus citas en un solo lugar</p>
        </div>
      </div>

      <a th:href="@{/logout}" class="btn btn--danger">
        <span class="btn__icon" aria-hidden="true">â‹</span>
        Cerrar sesiÃ³n
      </a>
    </header>

    <!-- Content -->
    <section class="container">

      <!-- Hero -->
      <div class="hero">
        <div class="hero__avatar" aria-hidden="true">
          <span th:text="${#strings.substring(session.usuarioNombre,0,1)}">U</span>
        </div>

        <div class="hero__text">
          <div class="hero__hello">
            Hola, <b th:text="${session.usuarioNombre}">Usuario</b> ğŸ‘‹
          </div>
          <h2>Bienvenido al Sistema de Citas MÃ©dicas</h2>
          <p>Desde aquÃ­ puedes consultar tu informaciÃ³n y revisar tus citas.</p>
        </div>
      </div>

      <!-- Stats -->
      <div class="stats">
        <div class="stat">
          <div class="stat__meta">
            <span>Citas programadas</span>
            <b th:text="${citasProgramadas}">0</b>
          </div>
          <div class="stat__icon stat__icon--blue" aria-hidden="true">ğŸ“…</div>
        </div>

        <div class="stat">
          <div class="stat__meta">
            <span>Consultas realizadas</span>
            <b th:text="${consultasRealizadas}">0</b>
          </div>
          <div class="stat__icon stat__icon--green" aria-hidden="true">âœ…</div>
        </div>

        <div class="stat">
          <div class="stat__meta">
            <span>Recordatorios</span>
            <b th:text="${recordatorios}">0</b>
          </div>
          <div class="stat__icon stat__icon--purple" aria-hidden="true">ğŸ””</div>
        </div>
      </div>

      <!-- Grid bottom -->
      <div class="grid">
        <!-- Quick actions -->
        <section class="panel">
          <div class="panel__head">
            <h3>Acciones rÃ¡pidas</h3>
          </div>

          <div class="actions">
  <a th:href="@{/usuario/citas/disponibles}" class="actionCard">
    <div class="actionIcon actionIcon--blue" aria-hidden="true">ï¼‹</div>
    <div class="actionText">
      <b>Nueva cita</b>
      <span>Agenda una cita</span>
    </div>
  </a>

  <a th:href="@{/usuario/citas/historial}" class="actionCard">
    <div class="actionIcon actionIcon--purple" aria-hidden="true">ğŸ—“ï¸</div>
    <div class="actionText">
      <b>Consultar citas</b>
      <span>Ver historial</span>
    </div>
  </a>

  <a th:href="@{/usuario/perfil}" class="actionCard">
    <div class="actionIcon actionIcon--teal" aria-hidden="true">ğŸ‘¤</div>
    <div class="actionText">
      <b>Mi perfil</b>
      <span>Actualizar datos</span>
    </div>
  </a>

  <a th:href="@{/usuario/citas/centros}" class="actionCard">
    <div class="actionIcon actionIcon--orange" aria-hidden="true">ğŸ¥</div>
    <div class="actionText">
      <b>Centros mÃ©dicos</b>
      <span>Ver sedes</span>
    </div>
  </a>
</div>

        </section>

        <!-- Next appointments (dummy UI) -->
        <section class="panel panel--right">
  <div class="panel__head panel__head--row">
    <h3>PrÃ³ximas citas</h3>
    <span class="pill" th:text="${#lists.size(proximasCitas)} + ' activas'">0 activas</span>
  </div>

  <div class="apptList" th:if="${#lists.isEmpty(proximasCitas)}">
    <div class="appt">
      <div class="appt__info">
        <b>No tienes citas prÃ³ximas</b>
        <span>Agenda una nueva cita cuando lo necesites</span>
      </div>
    </div>
  </div>

  <div class="apptList" th:if="${!#lists.isEmpty(proximasCitas)}">
    <div class="appt" th:each="c : ${proximasCitas}">
      <div class="appt__icon" aria-hidden="true">ğŸ©º</div>

      <div class="appt__info">
        <b th:text="${c.tipo}">Tipo</b>
        <span th:text="${c.centroMedico}">Centro</span>
      </div>

      <div class="appt__date">
        <b th:text="${#temporals.format(c.fechaHora,'dd MMM yyyy')}">15 Dic 2025</b>
        <span th:text="${#temporals.format(c.fechaHora,'hh:mm a')}">10:00 AM</span>
      </div>
    </div>
  </div>
</section>
  </main>
</body>
</html>
